<div class="container my-4 mt-5 py-5" *ngIf="cartItem?.products.length > 0; else loading">
  <div class="row">
    <h3 class="fw-bolder ">Shopping Cart</h3>
    <div class="text-end">
      <button routerLink="/checkout" class="btn bg-main text-light ">Online Payment</button>

    </div>

    <div class="col-md-10 m-auto my-5 bg-light shadow p-5">
      <h4><span class="text-main fw-bolder ">Total Price :- </span>{{ cartItem?.totalCartPrice | currency}}</h4>
      <div *ngFor="let product of cartItem?.products" class="row border-bottom py-2">
        <div class="col-md-2">
          <img [src]="product.product.imageCover" class="w-100" [alt]="product.product.title">
        </div>
        <div class="col-md-10 d-flex justify-content-between align-items-center ">
          <div>
            <p>{{ product.product.title }}</p>
            <p>{{ product.price | currency}}</p>
            <button class="btn btn-outline-danger" (click)="deleteCartProduct(product.product._id)"><i
                class="fa-regular fa-trash-can  mx-1"></i>Remove</button>
          </div>
          <div>
            <button class="btn btn-outline-success"
              (click)="updateCartProductQuantity(product.product._id, product.count+1)">+</button>
            <span class="mx-2">
              {{ product.count }}
            </span>
            <button class="btn btn-outline-success"
              (click)="updateCartProductQuantity(product.product._id, product.count-1)">-</button>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="vh-100 d-flex justify-content-center align-items-center my-4 border border-success rounded p-2 shadow ">
    <!-- <i class="fa-solid fa-spinner fa-spin text-main fa-5x"></i> -->

    <h2> There is no items in the Cart</h2>
  </div>
</ng-template>
